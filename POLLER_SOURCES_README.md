# Poller Sources CSV Export

This directory contains CSV exports of all sources used by the Thynk Compliance Platform pollers.

## Generated Files

### `all-poller-sources.csv` (511 rows)
Combined CSV containing all sources from all pollers.

### `cannabis-hemp-poller-sources.csv` (505 rows)
Sources from the cannabis-hemp-poller covering all 50 states + DC.
- **States covered**: 48 states (AL, AK, AZ, AR, CA, CO, CT, DE, FL, GA, HI, ID, IL, IN, IA, KS, KY, LA, ME, MD, MA, MI, MN, MS, MO, MT, NE, NV, NH, NJ, NM, NY, NC, ND, OH, OK, OR, PA, RI, SC, SD, TN, TX, UT, VT, VA, WA, WV, WI, WY)
- **Source types**: RSS feeds, news pages, regulation pages
- **Total URLs**: 537 unique URLs across 177 agencies

### `agency-contacts-sources.csv` (6 rows)
Official agency contact information from federal and state agencies.
- **Federal agencies**: FDA, DEA, USDA
- **State agencies**: Michigan CRA, California DCC, Colorado MED

## CSV Format

All CSV files use the following columns:

| Column | Description |
|--------|-------------|
| `poller` | Name of the poller function (cannabis-hemp-poller, agency-contacts) |
| `state` | State code (2-letter) or 'FEDERAL' |
| `agency` | Main agency website URL |
| `agencyName` | Full agency name |
| `sourceType` | Type of source (rss, webpage, contact) |
| `url` | The actual URL to monitor/poll |
| `category` | Content category (news, regulations, federal, state) |

## Usage

These CSV files can be used to:

1. **Audit coverage**: Verify which states and agencies are being monitored
2. **API optimization**: Identify states with limited sources to avoid wasting API requests
3. **Content analysis**: Understand the distribution of news vs regulation sources
4. **Data validation**: Cross-reference with actual poller configurations

## Generation

These files are generated by running:
```bash
node export-poller-sources.js
```

The script automatically extracts sources from:
- `supabase/functions/cannabis-hemp-poller/index.ts` (STATE_CANNABIS_SOURCES)
- `src/data/agencyContacts.ts` (federal and state agency contacts)

## Statistics

- **Total sources**: 511
- **States covered**: 49 (48 states + federal)
- **Unique agencies**: 177+
- **Content categories**: News (263), Regulations (242), Federal (3), State (3)
- **Source types**: RSS (2), Webpages (503), Contacts (6)

## Notes

- The federal-register-poller uses dynamic API queries rather than static source lists
- Some states have limited sources to avoid overwhelming APIs with low-value requests
- RSS feeds are prioritized when available for more efficient monitoring